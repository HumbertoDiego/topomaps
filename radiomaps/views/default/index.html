{{extend 'layout.html'}}
{{block head}}
<link rel="stylesheet" href="{{=URL('static','css/leaflet.css')}}"/>
{{end}}
{{block header}}
<div class="jumbotron jumbotron-fluid" style="background-color: #333; color:white; padding:30px;word-wrap:break-word;">
  <div class="center">
      <div id="mapid2" style="width:100%;"></div>
  </div>
</div>

{{end}}

<div class="row">
  <div class="col-md-12">
    {{if 'message' in globals():}}
    <h2>{{=message}}</h2>
    {{elif 'content' in globals():}}
    {{=content}}
    {{else:}}
    {{=BEAUTIFY(response._vars)}}
    {{pass}}
  </div>
</div>
{{block page_js}}
<script src="{{=URL('static','js/leaflet.js')}}"></script>
    <script type="text/javascript">
        $( "#mapid2" ).height( "100vh" )
        tilesLayer2 = new L.TileLayer('https://mapsmaps.pythonanywhere.com/default/gettile/example/{z}/{x}/{y}.png');

        var wmsurl = 'http://192.168.56.30:8080/geoserver/ows?'
        var wmsLayer = L.tileLayer.wms(wmsurl, { layers: '{{=layer}}',format: 'image/png',  transparent: true})

        var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
        });

        map2 = new L.Map('mapid2');
        map2.fitBounds({{=extent}});
        map2.addLayer(Esri_WorldImagery);
        map2.addLayer(wmsLayer);


    </script>
{{end page_js}}
