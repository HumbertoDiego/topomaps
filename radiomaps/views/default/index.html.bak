{{extend 'layout.html'}}
{{block head}}
<link rel="stylesheet" href="{{=URL('static','css/leaflet.css')}}"/>
{{end}}
{{block header}}
<div class="jumbotron jumbotron-fluid" style="background-color: #333; color:white; padding:30px;word-wrap:break-word;">
  <div class="center">
      <div id="mapid2" style="width:100%;"></div>
  </div>
</div>

{{end}}

<div class="row">
  <div class="col-md-12">
    {{if 'message' in globals():}}
    <h2>{{=message}}</h2>
    {{elif 'content' in globals():}}
    {{=content}}
    {{else:}}
    {{=BEAUTIFY(response._vars)}}
    {{pass}}
  </div>
</div>
{{block page_js}}
<script src="{{=URL('static','js/leaflet.js')}}"></script>
    <script type="text/javascript">
        $( "#mapid2" ).height( "100vh" )
        var tilesUrl2 = 'https://mapsmaps.pythonanywhere.com/default/gettile/example/{z}/{x}/{y}.png'
        tilesLayer2 = new L.TileLayer(tilesUrl2);

        var wmtsurl = 'http://localhost:8080/geoserver/gwc/service/wmts?'

        var wmsurl = 'http://localhost:8080/geoserver/ows?'
        var wmsLayer = L.tileLayer.wms(wmsurl, { layers: 'tiger-ny'})

        map2 = new L.Map('mapid2');
//         map2.addLayer(tilesLayer2);
        map2.setView([-74,40.75], 5);
        map.fitBounds(wmsLayer.getBounds());
        map2.addLayer(wmsLayer);

    </script>
{{end page_js}}
